<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <link rel="stylesheet" href="/static/booking.css">


    <title>booking|salonConnectWebApp</title>
</head>

<body>
    <div id="topBox">
        <nav id="mainNavBar">
            <ul>
                <li><a href="/">Home</a></li>
                <li><a href="/services">Our Services</a></li>
                <li><a href="/contactus">Contact us</a></li>
                <li><a href="/login">Login</a></li>
                <li><a href = "/signout">Sign Out</a></li>
            </ul>
        </nav>
        <h1>Shop Description</h1>
    </div>

    <div id="mainDisplay">

        <div id="shopgenInfo">

            <div class="shopImg">

            </div>

            <div class="shopDesc">
                <h3>{{shop['shop_name']}}</h3>
                
                <h6>Services Available:</h6>
                {%for service in services%}
                <ul>
                <li>{{service['Service']}}</li>
                </ul>
                {%endfor%}
                
            </div>

            <div class="shopContact">
                <h4>Contact Info:</h4>
                <p>Address: {{shop['Address']}}</p>
                <p>Hours: {{shop['open']}} - {{shop['close']}}</p>
                <p>Phone: {{shop['phone']}}</p>
            </div>
        </div>

        <div id="servicesgenInfo">
            <div class="table-responsive">
                <table class="table table-hover ">
                    <tbody>
                     <tr>

                        <td><b>Service</b></td>
                        <td><b>Price</b></td>
                        <td><b>Waiting Time</b></td>
                        <td></td>
                    </tr>  
                    {%for service in mapped%}
                    <tr>
                            <td>{{service}}</td>
                            <td>â‚¹{{mapped[service]["price"]}}</td>
                            <td>{{mapped[service]["time"]}} mins</td>
                        <form action="/services" method="post">
                            <input type = "hidden" name="service" value="{{service}}">
                            <input type = "hidden" name="shop" value="{{shop['shop_id']}}">
                            <td><button type="submit" class="btn btn-primary" onclick="return confirm('Are you sure you want to book {{service}} from {{shop['shop_name']}} now?')">Book Now</button></td>
                        </form>
                    </tr>
                    {%endfor%}

                    </tbody>

                </table>
            </div>
        </div>


    </div>

</body>

</html>